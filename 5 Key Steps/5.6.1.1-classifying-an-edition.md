# 5.6.1.1 Classifying an Edition

When new concepts are added to an extension, or the definitions of existing concepts are modified, it is important that the extension is classified. Classification is performed for two main reason: firstly to ensure that logic errors are identified, and secondly to make it easy for users of the terminology (who may not necessarily have access to a classifier) to identify the full set of inferred relationships.

Classifying an extension requires combining the content in the extension modules with the content from all modules on which the extension modules depend (as defined by the [Module Dependency Reference Set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Module+Dependency+Reference+Set "Glossary link: Module Dependency Reference Set")), including the modules from the International Edition. This ensures that the logical definition of all supertypes and attribute values of extension concepts can be used by the classifier in determining its inferences. The resulting set of inferred relationships (excluding redundant [ | is a|](http://snomed.info/id/116680003 "116680003 | is a |") relationships) is then distributed in the Relationship file of the release.

There are, however, some limited situations in which classification may not be required in order to generate the (inferred) Relationship file for an extension. For example:

  * The extension contains only reference sets, metadata concepts and/or descriptions
  * The extension contains only primitive concepts for which the stated and inferred definition are equivalent  

    *  _Note: Some primitive concepts may infer new defining relationships during the classification process, so care should taken before assuming that classification is unnecessary for primitive content._

# Purpose of Classification

The use of description logic as the formal foundation of SNOMED CT allows the semantics of clinical concepts to be represented unambiguously. Description logic also enables logical deduction in which additional information can be inferred from the explicit statements in the terminology. Classification is the process in which the formally stated definitions of each concept are used to compute the subsumption hierarchies and defining properties of each concept.

With each new release of SNOMED CT, the stated concept definitions are represented in the OWL Expression reference set, while the Relationship file, contains the full set of relationships that can be inferred using a classifier (excluding non-redundant [ | is a|](http://snomed.info/id/116680003 "116680003 | is a |") relationships). Most consumers of the SNOMED CT will use the Relationship file (containing the inferred relationships). The OWL reference sets are primarily used by extension producers, but may also be used by terminology consumers that have access to a description logic classifier.

# OWL Expression Reference Set

A release file that follows the [OWL Expression Reference Set](https://confluence.ihtsdotools.org/display/DOCRELFMT/5.2.1.9+OWL+Expression+Reference+Set) pattern and contains expressions that represent general statements about the [SNOMED CT](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT "Glossary link: SNOMED CT") ontology and [axioms](https://confluence.ihtsdotools.org/display/DOCGLOSS/axiom "Glossary link: axioms") that define [SNOMED CT concepts](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+concept "Glossary link: SNOMED CT concepts").

### Notes

  * The OWL expression reference set contains two [reference sets](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference sets"), the [OWL ontology reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/OWL+ontology+reference+set "Glossary link: OWL ontology reference set") and the [OWL axiom reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/OWL+axiom+reference+set "Glossary link: OWL axiom reference set").

# Related Links

  * [OWL ontology reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/OWL+ontology+reference+set "Glossary link: OWL ontology reference set")
  * [OWL axiom reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/OWL+axiom+reference+set "Glossary link: OWL axiom reference set")
  * Release File Specification
    * [5.2.1.9 OWL Expression Reference Set](https://confluence.ihtsdotools.org/display/DOCRELFMT/5.2.1.9+OWL+Expression+Reference+Set)

# Inferred Relationships

Inferred relationships are derived from the set of [OWL axioms](https://confluence.ihtsdotools.org/display/DOCGLOSS/OWL+axiom "Glossary link: OWL axioms") in the [OWL Expression Reference Set](https://confluence.ihtsdotools.org/display/DOCRELFMT/5.2.1.9+OWL+Expression+Reference+Set), by applying a consistent set of logical rules to the definition which take account of the definitions of related [concepts](https://confluence.ihtsdotools.org/display/WIPGLOSS/concept "Glossary link: concepts").

Several semantically equivalent views may be inferred from the same set of stated relationships. However, the [SNOMED CT](https://confluence.ihtsdotools.org/display/WIPGLOSS/SNOMED+CT "Glossary link: SNOMED CT") [Relationship file](https://confluence.ihtsdotools.org/display/WIPRELFMT/Relationship+file "Reference term: Relationship file") is distributed using an inferred view known as the [necessary normal form (NNF](https://confluence.ihtsdotools.org/display/DOCGLOSS/necessary+normal+form "Glossary link: necessary normal form")). This standard distribution view, includes all non-redundant [ | is a|](http://snomed.info/id/116680003 "116680003 | is a |") relationships (between each concept and its proximal supertype), and the inferred concept definition of each concept (including all non-redundant defining relationships). 

In the necessary normal view (NNF) appropriate subtype and attribute relationships are created to represent non-redundant axioms that are necessarily true capable of being represented using the relationship file format.

# Example

This example is included to illustrate what happens during the classification process.

Consider the stated relationships shown below for the concepts [ | Appendectomy|](http://snomed.info/id/80146002 "80146002 | Appendectomy |") and [ | Emergency appendectomy|](http://snomed.info/id/174036004 "174036004 | Emergency appendectomy |") . The concept definitions are represented in accordance with [SNOMED CT Diagramming Guidelines](http://snomed.org/diagram). 

Table 5.6.1.1-1: Example stated relationships

This diagram shows the stated definition of the concept [ | Appendectomy|](http://snomed.info/id/80146002 "80146002 | Appendectomy |") . An [ | Appendectomy|](http://snomed.info/id/80146002 "80146002 | Appendectomy |") is a procedure in which the appendix structure is excised.| **Stated definition of |Appendectomy|** <img src="images/57815336.png" alt="" title="" width="500" height="">|---  
This diagram shows the stated definition of the concept [ | Emergency appendectomy|](http://snomed.info/id/174036004 "174036004 | Emergency appendectomy |") . An [ | Emergency appendectomy|](http://snomed.info/id/174036004 "174036004 | Emergency appendectomy |") is a procedure with a priority of emergency, in which the appendix structure is excised.| **Stated definition of |Emergency appendectomy|** <img src="images/57815335.png" alt="" title="" width="500" height="">  
This diagram shows a hierarchical view of the stated subtype relationships from the concepts above.| **Stated subtype relationships** <img src="images/57815334.png" alt="" title="" width="300" height="">  
  
Table 5.6.1.1-2: Comparison of stated definitions

This diagram shows a comparison of the stated definitions for [ | Appendectomy|](http://snomed.info/id/80146002 "80146002 | Appendectomy |") and  [ | Emergency appendectomy|](http://snomed.info/id/174036004 "174036004 | Emergency appendectomy |") from above. The two definitions are identical, except for the additional defining relationship on [ | Emergency appendectomy|](http://snomed.info/id/174036004 "174036004 | Emergency appendectomy |") , which states that the priority is emergency.This means that a classifier can infer that [ | Emergency appendectomy|](http://snomed.info/id/174036004 "174036004 | Emergency appendectomy |") is a logical subtype of [ | Appendectomy|](http://snomed.info/id/80146002 "80146002 | Appendectomy |") .| <img src="images/57815331.png" alt="" title="" width="500" height="">|---  
  
Table 5.6.1.1-3: Deriving the inferred relationships

This diagram shows that once the relationship [ | Emergency appendectomy|](http://snomed.info/id/174036004 "174036004 | Emergency appendectomy |") [ | is a|](http://snomed.info/id/116680003 "116680003 | is a |") [ | Appendectomy|](http://snomed.info/id/80146002 "80146002 | Appendectomy |") is inferred, the stated relationship [ | Emergency appendectomy|](http://snomed.info/id/174036004 "174036004 | Emergency appendectomy |") [ | is a|](http://snomed.info/id/116680003 "116680003 | is a |") [ | Procedure|](http://snomed.info/id/71388002 "71388002 | Procedure |") becomes redundant.|   

<img src="images/57815332.png" alt="" title="" width="450" height="">|---  
  
# Combining Modules for Classification

Classifying an extension requires combining the content in the extension modules with the content from all modules on which the extension modules depend (as defined by the [Module Dependency Reference Set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Module+Dependency+Reference+Set "Glossary link: Module Dependency Reference Set")), including the modules from the International Edition. This ensures that the logical definition of all supertypes and attribute values of extension concepts can be used by the classifier in determining its inferences. The resulting set of inferred

The process of combining an extension with the content of the modules on which it depends is illustrated in [Figure 5.6.1.1-1](https://confluence.ihtsdotools.org/display/DOCEXTPG/5.6.1.1+Classifying+an+Edition#Figure-creating-inferred-relationships-of-extensions "Creating inferred relationships for an extension") below.

<img src="images/57815330.png" alt="" title="" width="1000" height="">

Figure 5.6.1.1-1: Creating inferred relationships for an extension

It is important that all inferred relationships present in the International Edition are also present in the combined inferred view. This means that the Relationship file in an extension's edition should be a superset of the Relationship file in the International Edition. In particular:

  * All relationships belonging to the International Edition should be retained in the extension edition, with the same  _moduleId_ and _effectiveTime_ values
  * All new inferred relationships created when classifying the extension should
    * Be assigned to a module within the extension, and
    * Use an _effectiveTime_ which corresponds to the release date of the extension

If a situation occurs in which an inferred relationship from the International Edition becomes redundant in the extension edition (due to an intermediate concept being created in the extension), it may be necessary to inactivate the redundant international relationship in an extension module. For more information please refer to [5.4.4.3 Inactivate Relationship in an Extension](5 Key Steps/5.4.4.3-.3.md).

For more information about options for packaging inferred extension relationships, please refer to [5.6.1.2 Packaging and File Naming](5 Key Steps/5.6.1.2-.2.md).
