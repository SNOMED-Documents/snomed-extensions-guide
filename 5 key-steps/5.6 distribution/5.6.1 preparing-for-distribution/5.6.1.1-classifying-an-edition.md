# Classifying an Edition

When new concepts are added to an extension, or the definitions of existing concepts are modified, it is important that the extension is classified. Classification is performed for two main reason: firstly to ensure that logic errors are identified, and secondly to make it easy for users of the terminology (who may not necessarily have access to a classifier) to identify the full set of inferred relationships.

Classifying an extension requires combining the content in the extension modules with the content from all modules on which the extension modules depend (as defined by the Module Dependency Reference Set), including the modules from the International Edition. This ensures that the logical definition of all supertypes and attribute values of extension concepts can be used by the classifier in determining its inferences. The resulting set of inferred relationships (excluding redundant [| is a|](http://snomed.info/id/116680003) relationships) is then distributed in the Relationship file of the release.

There are, however, some limited situations in which classification may not be required in order to generate the (inferred) Relationship file for an extension. For example:

* The extension contains only reference sets, metadata concepts and/or descriptions
* The extension contains only primitive concepts for which the stated and inferred definition are equivalent
  * _Note: Some primitive concepts may infer new defining relationships during the classification process, so care should taken before assuming that classification is unnecessary for primitive content._

## Purpose of Classification

The use of description logic as the formal foundation of SNOMED CT allows the semantics of clinical concepts to be represented unambiguously. Description logic also enables logical deduction in which additional information can be inferred from the explicit statements in the terminology. Classification is the process in which the formally stated definitions of each concept are used to compute the subsumption hierarchies and defining properties of each concept.

With each new release of SNOMED CT, the stated concept definitions are represented in the OWL Expression reference set, while the Relationship file, contains the full set of relationships that can be inferred using a classifier (excluding non-redundant [| is a|](http://snomed.info/id/116680003) relationships). Most consumers of the SNOMED CT will use the Relationship file (containing the inferred relationships). The OWL reference sets are primarily used by extension producers, but may also be used by terminology consumers that have access to a description logic classifier.

## OWL Expression Reference Set

A release file that follows the [OWL Expression Reference Set](https://app.gitbook.com/s/irKbJsZG57nSWZA4GT0M/reference-set-release-file-specification/5.2-reference-set-types/5.2.1-content-reference-sets/5.2.1.9-owl-expression-reference-set) pattern and contains expressions that represent general statements about the SNOMED CT ontology and axioms that define SNOMED CT concepts.

#### Notes

* The OWL expression reference set contains two reference sets, the OWL ontology reference set and the OWL axiom reference set.

## Related Links

* OWL ontology reference set
* OWL axiom reference set
* Release File Specification
  * [OWL Expression Reference Set](https://app.gitbook.com/s/irKbJsZG57nSWZA4GT0M/reference-set-release-file-specification/5.2-reference-set-types/5.2.1-content-reference-sets/5.2.1.9-owl-expression-reference-set)&#x20;

## Inferred Relationships

Inferred relationships are derived from the set of OWL axioms in the[ OWL Expression Reference Set](https://app.gitbook.com/s/irKbJsZG57nSWZA4GT0M/reference-set-release-file-specification/5.2-reference-set-types/5.2.1-content-reference-sets/5.2.1.9-owl-expression-reference-set), by applying a consistent set of logical rules to the definition which take account of the definitions of related concepts.

Several semantically equivalent views may be inferred from the same set of stated relationships. However, the SNOMED CT Relationship file is distributed using an inferred view known as the necessary normal form (NNF). This standard distribution view, includes all non-redundant [| is a|](http://snomed.info/id/116680003) relationships (between each concept and its proximal supertype), and the inferred concept definition of each concept (including all non-redundant defining relationships).

In the necessary normal view (NNF) appropriate subtype and attribute relationships are created to represent non-redundant axioms that are necessarily true capable of being represented using the relationship file format.

{% hint style="info" %}
Some more advanced axioms (e.g. general class inclusions)  can be represented in the [OWL Expression Reference Set](https://app.gitbook.com/s/irKbJsZG57nSWZA4GT0M/reference-set-release-file-specification/5.2-reference-set-types/5.2.1-content-reference-sets/5.2.1.9-owl-expression-reference-set) but cannot be represented in the [Relationship File](https://app.gitbook.com/s/irKbJsZG57nSWZA4GT0M/component-release-file-specification/4.2-file-format-specifications/4.2.3-relationship-file-specification).
{% endhint %}

## Example

This example is included to illustrate what happens during the classification process.

Consider the stated relationships shown below for the concepts [| Appendectomy|](http://snomed.info/id/80146002) and [| Emergency appendectomy|](http://snomed.info/id/174036004) . The concept definitions are represented in accordance with [SNOMED CT Diagramming Guidelines](https://app.gitbook.com/o/h8Z6qGxuQrzM9vbx5bPT/s/M5YwUfVkVdFLDT6IXbBg/).

**Table : Example stated relationships**

<table data-header-hidden><thead><tr><th width="261.453125" valign="top"></th><th valign="top"></th></tr></thead><tbody><tr><td valign="top">This diagram shows the stated definition of the concept <a href="http://snomed.info/id/80146002">| Appendectomy|</a> . An <a href="http://snomed.info/id/80146002">| Appendectomy|</a> is a procedure in which the appendix structure is excised.</td><td valign="top"><strong>Stated definition of |Appendectomy|.</strong>  <img src="../../../.gitbook/assets/image (33).png" alt=""></td></tr><tr><td valign="top">This diagram shows the stated definition of the concept <a href="http://snomed.info/id/174036004">| Emergency appendectomy|</a> . An <a href="http://snomed.info/id/174036004">| Emergency appendectomy|</a> is a procedure with a priority of emergency, in which the appendix structure is excised.</td><td valign="top"><strong>Stated definition of |Emergency appendectomy|.</strong> <img src="../../../.gitbook/assets/image (34).png" alt=""></td></tr><tr><td valign="top">This diagram shows a hierarchical view of the stated subtype relationships from the concepts above.</td><td valign="top"><strong>Stated subtype relationships.</strong> <img src="../../../.gitbook/assets/image (35).png" alt=""></td></tr></tbody></table>

\
**Table: Comparison of stated definitions**

| This diagram shows a comparison of the stated definitions for [\| Appendectomy\|](http://snomed.info/id/80146002) and [\| Emergency appendectomy\|](http://snomed.info/id/174036004) from above. The two definitions are identical, except for the additional defining relationship on [\| Emergency appendectomy\|](http://snomed.info/id/174036004) , which states that the priority is emergency.This means that a classifier can infer that [\| Emergency appendectomy\|](http://snomed.info/id/174036004) is a logical subtype of [\| Appendectomy\|](http://snomed.info/id/80146002) .\| | <div><figure><img src="../../../.gitbook/assets/image (36).png" alt=""><figcaption></figcaption></figure></div> |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- |



**Table: Deriving the inferred relationships**

| This diagram shows that once the relationship [\| Emergency appendectomy\|](http://snomed.info/id/174036004) [\| is a\|](http://snomed.info/id/116680003) [\| Appendectomy\|](http://snomed.info/id/80146002) is inferred, the stated relationship [\| Emergency appendectomy\|](http://snomed.info/id/174036004) [\| is a\|](http://snomed.info/id/116680003) [\| Procedure\|](http://snomed.info/id/71388002) becomes redundant. | <div><figure><img src="../../../.gitbook/assets/image (37).png" alt=""><figcaption></figcaption></figure></div> |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- |

## Combining Modules for Classification

Classifying an extension requires combining the content in the extension modules with the content from all modules on which the extension modules depend (as defined by the Module Dependency Reference Set), including the modules from the International Edition. This ensures that the logical definition of all supertypes and attribute values of extension concepts can be used by the classifier in determining its inferences. The resulting set of inferred

The process of combining an extension with the content of the modules on which it depends is illustrated in image below.

<figure><img src="../../../.gitbook/assets/57815330.png" alt=""><figcaption><p> Creating inferred relationships for an extension</p></figcaption></figure>

It is important that all inferred relationships present in the International Edition are also present in the combined inferred view. This means that the Relationship file in an extension's edition should be a superset of the Relationship file in the International Edition. In particular:

* All relationships belonging to the International Edition should be retained in the extension edition, with the same _moduleId_ and _effectiveTime_ values
* All new inferred relationships created when classifying the extension should
  * Be assigned to a module within the extension, and
  * Use an _effectiveTime_ which corresponds to the release date of the extension

If a situation occurs in which an inferred relationship from the International Edition becomes redundant in the extension edition (due to an intermediate concept being created in the extension), it may be necessary to inactivate the redundant international relationship in an extension module. For more information please refer to [Inactivate Relationship in an Extension](<../../5.4 authoring/5.4.4 authoring-relationships/5.4.4.3-inactivate-relationship-in-an-extension.md>).

For more information about options for packaging inferred extension relationships, please refer to [Packaging and File Naming](5.6.1.2-packaging-and-file-naming.md).

<a href="https://docs.google.com/forms/d/e/1FAIpQLScTmbZIf0UEQwYDkY27EEWBkaiYkHSbR0_9DmFrMLXoQLyL7Q/viewform?usp=pp_url&#x26;entry.1767247133=Extension+Guide&#x26;entry.670899847=5.6.1.1%20Classifying%20an%20Edition" class="button primary">Provide Feedback</a>
